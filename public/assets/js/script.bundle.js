(()=>{"use strict";var e={705:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(a=2&c[0]?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(6===c[0]&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],o=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i,r,c=n(185),s=n(537),d={},l=!1;function u(e){return o(this,void 0,void 0,(function(){var t,n,o,r,c,s,l;return a(this,(function(a){switch(a.label){case 0:return t={Authorization:"token ".concat(i),Accept:"application/vnd.github.raw+json"},n=e.filter((function(e){return".ghost"==e.name}))[0],o=n.git_url,d[o]&&(t["If-None-Match"]=d[o]),[4,fetch(o,{method:"GET",headers:t})];case 1:return 200!=(c=a.sent()).status?[3,3]:(d[o]=c.headers.get("ETag"),l=(s=JSON).parse,[4,c.text()]);case 2:return r=l.apply(s,[a.sent()]),d["".concat(o,"_data")]=r,[3,4];case 3:304==c.status&&(r=d["".concat(o,"_data")]),a.label=4;case 4:return[2,r]}}))}))}function m(e,t,n,r){return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){return o=document.getElementById("path").dataset.path,[2,new Promise((function(a,r){var s=new XMLHttpRequest;if(s.open("PUT","https://api.github.com/repos/Kushagra-16/storage/contents/".concat(""!=o?o+"/":"").concat(e.name),!0),s.setRequestHeader("Authorization","token ".concat(i)),s.setRequestHeader("Accept","application/json"),s.onload=function(){var t=JSON.parse(s.responseText);201==s.status||200==s.status?(f(o),a()):(console.error("Error Uploading file ".concat(e.name),t),r())},s.onerror=function(){console.error("Error Uploading file ".concat(e.name),JSON.parse(s.responseText)),r()},n){var d=document.getElementById("updown_progress"),l=document.getElementById("updown_progress_percent");s.upload.onloadstart=function(){document.getElementById("updown_filename").innerText=e.name,document.getElementById("updown_file_count").innerText="(".concat(n.fileNo,"/").concat(n.filesCount,")"),document.getElementById("file_updown").style.visibility="initial"},s.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;l.innerText="".concat(Math.round(t),"%"),d.style.width="".concat(t,"%")}},s.upload.onloadend=function(){document.getElementById("file_updown").style.visibility="hidden",document.getElementById("updown_filename").innerText="",document.getElementById("updown_file_count").innerText="",d.style.width="0%",l.innerText="0%"}}s.send(JSON.stringify({message:"".concat(c.utils.getDateTime()," --\x3e Upload ").concat(e.name),content:t,branch:"main"}))}))]}))}))}function p(e,t){return o(this,void 0,void 0,(function(){var n,o,r;return a(this,(function(a){return(n=new XMLHttpRequest).open("GET",t,!0),n.setRequestHeader("Authorization","token ".concat(i)),n.setRequestHeader("Accept","application/vnd.github.raw+json"),n.responseType="blob",n.onload=function(){if(200===n.status){var t=void 0,o=n.getResponseHeader("Content-Type");if("application/json"==o){for(var a=JSON.parse(n.responseText),i=atob(a.content),r=new Array(i.length),c=0;c<i.length;c++)r[c]=i.charCodeAt(c);var s=new Uint8Array(r);t=new Blob([s],{type:"application/octet-stream"})}else"text/plain"==o?(a=n.responseText,t=new Blob([a],{type:"text/plain"})):t=n.response;var d=URL.createObjectURL(t),l=document.createElement("a");l.href=d,l.download=e,l.click(),URL.revokeObjectURL(d)}},o=document.getElementById("updown_progress"),r=document.getElementById("updown_progress_percent"),n.onloadstart=function(){document.getElementById("updown_filename").innerHTML=e,document.getElementById("updown_file_count").innerHTML="",document.getElementById("file_updown").style.visibility="initial"},n.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;r.innerHTML="".concat(Math.round(t),"%"),o.style.width="".concat(t,"%")}},n.onloadend=function(){document.getElementById("file_updown").style.visibility="hidden",document.getElementById("updown_filename").innerHTML="",document.getElementById("updown_file_count").innerHTML="",o.style.width="0%",r.innerHTML="0%"},n.send(),[2]}))}))}function f(e){return o(this,void 0,void 0,(function(){var t,n,s,y,h;return a(this,(function(g){switch(g.label){case 0:return(t=document.getElementById("path")).innerText=""!=e?"/ ".concat(e.replace(/\//g," / ")):"",t.dataset.path=e,n="https://api.github.com/repos/Kushagra-16/storage/contents/".concat(e),s={Authorization:"token ".concat(i),Accept:"application/json"},d[n]&&(s["If-None-Match"]=d[n]),[4,fetch(n,{method:"GET",headers:s})];case 1:return 200!==(y=g.sent()).status?[3,3]:(d[n]=y.headers.get("ETag"),[4,y.json()]);case 2:return h=g.sent(),d["".concat(n,"_data")]=h,[3,4];case 3:304===y.status&&(h=d["".concat(n,"_data")]),g.label=4;case 4:return function(e,t){o(this,void 0,void 0,(function(){var n,s,d,y,h,g,v;return a(this,(function(E){switch(E.label){case 0:return n=document.getElementById("main"),r=e,[4,u(e=e.sort((function(e,t){return".ghost"===e.name?-1:".ghost"===t.name?1:e.type!==t.type?"dir"===e.type?-1:1:e.name.localeCompare(t.name)})))];case 1:if(s=E.sent(),n.innerHTML=document.getElementById("main-template").innerHTML,t?(document.getElementsByClassName("item-new-folder")[0].style.display="none",document.getElementById("new_folder_name").setAttribute("disabled",""),document.getElementById("back_btn").style.display="none",document.getElementById("add_btn").style.display="none"):(document.getElementById("back_btn").style.display="block",document.getElementById("add_btn").style.display="block"),document.getElementById("new_folder_name").addEventListener("keydown",(function(e){"Enter"==e.key&&m({name:"".concat(e.target.value,"/.ghost")},btoa("{}"))})),1==e.length&&!l)return document.getElementById("empty_folder").style.display="flex",[2];for(document.getElementById("empty_folder").style.display="none",d=function(e){var t=document.createElement("div"),r=document.createElement("i"),d=document.createElement("span"),u=document.createElement("span");if(t.className="item",r.className="item_icon",(null===(v=s.hidden)||void 0===v?void 0:v.indexOf(e.name))>-1||".ghost"==e.name){if(!l)return"continue";t.classList.add("hidden_item")}d.className="item_name",u.className="item_size",t.dataset.id=e.name.split(".")[0],t.id=e.name,t.dataset.sha=e.sha;var m=c.utils.getIcon(e);if(m.subparts)for(var y=1;y<=m.subparts;y++){var h=document.createElement("span");h.className="path".concat(y),r.appendChild(h)}r.classList.add("icon-".concat(m.iconName)),d.innerText=e.name,t.setAttribute("title",e.name),"file"==e.type?(u.innerText=c.utils.formatSize(e.size),t.addEventListener("click",(function(){c.utils.isOpenable(e.name)?function(e){o(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return fetch(e.url,{method:"GET",headers:{Authorization:"token ".concat(i),Accept:"application/vnd.github.raw+json"}}).then((function(n){return o(t,void 0,void 0,(function(){var t,o,i,r;return a(this,(function(a){switch(a.label){case 0:return o=Uint8Array.bind,[4,n.arrayBuffer()];case 1:return t=new(o.apply(Uint8Array,[void 0,a.sent()])),i=t.reduce((function(e,t){return e+String.fromCharCode(t)}),""),r=btoa(i),document.getElementById("image_preview").src="data:image/".concat(e.name.split(".").pop(),";base64,").concat(r),document.getElementById("preview_loading_icon").style.display="none",document.getElementById("preview_loading_icon").style.animation="none",document.getElementById("image_preview").style.display="initial",[2]}}))}))})),document.getElementById("preview_loading_icon").style.display="initial",document.getElementById("preview_loading_icon").style.animation="loadingRotation 2s linear infinite forwards",document.getElementById("preview_name").innerText=e.name,document.getElementById("preview_popup").style.visibility="initial",[2]}))}))}(e):p(e.name,e.url)}))):"dir"==e.type&&t.addEventListener("click",(function(){f(e.path)})),l&&".ghost"!==e.name&&t.addEventListener("contextmenu",(function(n){var o,a=document.getElementById("context-download"),i=document.getElementById("context-hide"),r=document.getElementById("context-unhide"),c=document.getElementById("item-context-menu");c.removeAttribute("style"),"file"==e.type?a.style.display="list-item":a.style.display="none",(null===(o=s.hidden)||void 0===o?void 0:o.indexOf(e.name))>-1?(i.style.display="none",r.style.display="list-item"):(i.style.display="list-item",r.style.display="none"),c.dataset.url=e.url,c.dataset.path=e.path,c.dataset.type=e.type,c.dataset.sha=e.sha,c.dataset.elementId=t.id,c.style.display="initial",n.clientY<window.innerHeight-parseInt(window.getComputedStyle(c).height.replace(/px/g,""))-20?c.style.top="".concat(n.clientY,"px"):c.style.bottom="".concat(window.innerHeight-n.clientY,"px"),n.clientX<window.innerWidth-150?c.style.left="".concat(n.clientX,"px"):c.style.right="".concat(window.innerWidth-n.clientX-20,"px")})),t.appendChild(r),t.appendChild(d),t.appendChild(u),n.appendChild(t)},y=0,h=e;y<h.length;y++)g=h[y],d(g);return[2]}}))}))}(h,""==e),[2]}}))}))}!function(){o(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(d){return(e=document.createElement("style")).id="login_style",e.innerHTML="header > button, header > input { display: none !important; } header > h1 { display: initial !important; } div#main { display: none !important; }",document.head.appendChild(e),document.getElementById("login_page").style.display="initial",t=0,document.getElementById("password_input").addEventListener("keydown",(function(d){return o(n,void 0,void 0,(function(){var n;return a(this,(function(y){switch(y.label){case 0:return"Enter"!=d.key?[3,4]:(n=document.getElementById("password_input").value,[4,(0,s.verifyPassword)(n)]);case 1:return y.sent()?(fetch("assets/resources/icons.json",{method:"GET"}).then((function(e){e.json().then(c.utils.setup)})),function(){o(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return document.getElementById("search_bar").addEventListener("keyup",(function(e){var t=document.getElementById("search_bar").value,n=document.getElementsByClassName("item");if(console.log(e.key),"Escape"==e.key){document.getElementById("search_bar").value="",document.getElementById("search_bar").blur();for(var o=0,a=n;o<a.length;o++)(c=a[o]).dataset.id&&(c.style.display="flex")}else for(var i=0,r=n;i<r.length;i++){var c;(c=r[i]).dataset.id&&(c.dataset.id.toLowerCase().includes(t.toLowerCase())?c.style.display="flex":c.style.display="none")}})),document.getElementById("files_input").addEventListener("input",(function(){return o(e,void 0,void 0,(function(){var e,t,n,i=this;return a(this,(function(r){switch(r.label){case 0:e=Array.from(document.getElementById("files_input").files),t=function(t){var n,r;return a(this,(function(c){switch(c.label){case 0:return n=e[t-1],r=new FileReader,[4,new Promise((function(c,s){r.onload=function(){return o(i,void 0,void 0,(function(){var o,i,s;return a(this,(function(a){switch(a.label){case 0:return o=r.result,i=new Uint8Array(o).reduce((function(e,t){return e+String.fromCharCode(t)}),""),s=btoa(i),[4,m(n,s,{fileNo:t,filesCount:e.length})];case 1:return a.sent(),c(),[2]}}))}))},r.readAsArrayBuffer(n)}))];case 1:return c.sent(),[2]}}))},n=1,r.label=1;case 1:return n<=e.length?[5,t(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))})),document.getElementById("back_btn").addEventListener("click",(function(){var e=document.getElementById("path").dataset.path;f(e.indexOf("/")>-1?e.slice(0,e.lastIndexOf("/")):"")})),document.getElementById("sync_btn").addEventListener("click",(function(){f(document.getElementById("path").dataset.path)})),document.getElementById("add_btn").addEventListener("click",(function(){var e=document.getElementById("screen-context-menu");e.style.top="30px",e.style.right="30px",e.style.display="initial"})),document.getElementById("preview_download_file").addEventListener("click",(function(){var e=document.getElementById("image_preview").src,t=document.createElement("a");t.href=e,t.download=document.getElementById("preview_name").innerText,t.click()})),document.getElementById("close_preview").addEventListener("click",(function(){document.getElementById("preview_popup").style.visibility="hidden",document.getElementById("preview_name").innerText="",document.getElementById("image_preview").src="",document.getElementById("image_preview").style.display="none"})),document.body.addEventListener("click",(function(e){document.getElementById("add_btn").contains(e.target)||(document.getElementById("screen-context-menu").style.display="none"),document.getElementById("item-context-menu").style.display="none",document.getElementById("item-context-menu").dataset.path="",e.clientX>window.innerWidth-30&&e.clientY>window.innerHeight-30&&(l=!l,f(document.getElementById("path").dataset.path))})),document.body.addEventListener("contextmenu",(function(e){e.preventDefault(),e.target!=document.body&&"main"!=e.target.id||(document.getElementById("screen-context-menu").style.display="initial")})),document.body.addEventListener("keydown",(function(e){"Backspace"==e.key&&"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),document.getElementById("back_btn").click()),"Escape"===e.key&&(document.getElementById("screen-context-menu").style.display="none",document.getElementById("item-context-menu").style.display="none",document.getElementById("item-context-menu").dataset.path="",document.getElementById("new_folder_name").value="",document.getElementById("new_folder_name").blur(),document.getElementById("close_preview").click()),"F"===e.key.toUpperCase()&&e.ctrlKey&&(e.preventDefault(),document.getElementById("new_folder_name").focus()),"S"===e.key.toUpperCase()&&e.ctrlKey&&(e.preventDefault(),document.getElementById("sync_btn").click()),"/"!==e.key&&"?"!==e.key||!e.ctrlKey||(e.preventDefault(),document.getElementById("search_bar").focus()),"U"===e.key.toUpperCase()&&e.ctrlKey&&(e.preventDefault(),document.getElementById("files_input").click()),"K"===e.key.toUpperCase()&&e.ctrlKey&&(e.preventDefault(),document.getElementById("keyboard-shortcuts").style.display="initial")})),document.body.addEventListener("keypress",(function(e){"Ω"==e.key&&(l=!l,f(document.getElementById("path").dataset.path))})),function(){o(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return document.getElementById("context-download").addEventListener("click",(function(){var e=document.getElementById("item-context-menu");p(e.dataset.path.slice(e.dataset.path.lastIndexOf("/")),e.dataset.url)})),document.getElementById("context-hide").addEventListener("click",(function(){return o(e,void 0,void 0,(function(){var e,t,n,o;return a(this,(function(a){switch(a.label){case 0:return e=document.getElementById("item-context-menu"),t=r.filter((function(e){return".ghost"==e.name}))[0],[4,u(r)];case 1:return n=a.sent(),o=e.dataset.elementId,console.log(o),n.hidden?n.hidden.push(o):n.hidden=[o],fetch(t.url,{method:"PUT",headers:{Authorization:"token ".concat(i),Accept:"application/json"},body:JSON.stringify({message:"".concat(c.utils.getDateTime()," --\x3e Hidden ").concat(o),content:btoa(JSON.stringify(n)),sha:t.sha})}).then((function(t){document.getElementById(e.dataset.elementId).classList.add("hidden_item")})),[2]}}))}))})),document.getElementById("context-unhide").addEventListener("click",(function(){return o(e,void 0,void 0,(function(){var e,t,n,o;return a(this,(function(a){switch(a.label){case 0:return e=document.getElementById("item-context-menu"),t=r.filter((function(e){return".ghost"==e.name}))[0],[4,u(r)];case 1:return n=a.sent(),o=e.dataset.elementId,console.log(o),n.hidden.splice(n.hidden.indexOf(o),1),fetch(t.url,{method:"PUT",headers:{Authorization:"token ".concat(i),Accept:"application/json"},body:JSON.stringify({message:"".concat(c.utils.getDateTime()," --\x3e Unhid ").concat(o),content:btoa(JSON.stringify(n)),sha:t.sha})}).then((function(t){document.getElementById(e.dataset.elementId).classList.remove("hidden_item")})),[2]}}))}))})),document.getElementById("context-delete").addEventListener("click",(function(){var t=document.getElementById("item-context-menu");"dir"==t.dataset.type?fetch(t.dataset.url,{method:"GET",headers:{Authorization:"token ".concat(i),Accept:"application/json"}}).then((function(t){return o(e,void 0,void 0,(function(){var e,n,o,r;return a(this,(function(a){switch(a.label){case 0:return[4,t.json()];case 1:for(e=a.sent(),n=0,o=e;n<o.length;n++)r=o[n],fetch(r.url,{method:"DELETE",headers:{Authorization:"token ".concat(i),Accept:"application/json"},body:JSON.stringify({message:"".concat(c.utils.getDateTime()," --\x3e Delete ").concat(r.path),sha:r.sha})}).then((function(e){f(document.getElementById("path").dataset.path)}));return[2]}}))}))})):"file"==t.dataset.type&&fetch(t.dataset.url,{method:"DELETE",headers:{Authorization:"token ".concat(i),Accept:"application/json"},body:JSON.stringify({message:"".concat(c.utils.getDateTime()," --\x3e Delete ").concat(t.dataset.path),sha:t.dataset.sha})}).then((function(e){f(document.getElementById("path").dataset.path)}))})),[2]}))}))}(),[2]}))}))}(),[4,(0,s.extractToken)()]):[3,3];case 2:return i=y.sent(),document.getElementById("login_page").style.display="none",document.getElementById("password_input").value="",document.head.removeChild(e),f(""),[3,4];case 3:t>=3&&(document.getElementById("auth_fail").style.display="flex",document.getElementById("login_page").style.display="none"),document.getElementById("password_input").classList.add("wrong"),setTimeout((function(){document.getElementById("password_input").classList.remove("wrong")}),500),t++,y.label=4;case 4:return[2]}}))}))})),[2]}))}))}()},185:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0;var o,a=["image"],i={image:["png","jpg","jpeg","gif","svg","webm"],video:["mp4","ogg","ogv","avi","mov","wmv","flv","mkv","m2ts"],audio:["mp3","wav","ogg","oga","m4a","flac","aac","wma","mid","midi"],pdf:["pdf"],text:["log","txt","md"],cod:["html","py","pyw","htm","css","js","json","xml","yml","yaml","ini","conf","c","cpp","h","hpp","java","sh","bat","php","sql","txt","text","ino"]};!function(e){e.setup=function(e){n=e},e.getIcon=function(e){var t;if("file"===e.type){var o=n.defined.file;for(var a in n.fileNames)Object.prototype.hasOwnProperty.call(n.fileNames,a)&&a.toLowerCase()==e.name.toLowerCase()&&(o=n.fileNames[a]);for(var i in n.fileExtensions)if(Object.prototype.hasOwnProperty.call(n.fileExtensions,i)){var r=e.name.split(".");r[r.length-1].toLowerCase()==i.toLowerCase()&&(o=n.fileExtensions[i])}t={iconName:o,subparts:n.iconSubparts[o]>1?n.iconSubparts[o]:void 0}}else if("dir"===e.type){for(var c in o=n.defined.folder,n.folderNames)Object.prototype.hasOwnProperty.call(n.folderNames,c)&&c.toLowerCase()==e.name.toLowerCase()&&(o=n.folderNames[c]);t={iconName:o,subparts:n.iconSubparts[o]>1?n.iconSubparts[o]:void 0}}return t},e.getDateTime=function(){var e=new Date,t=new Date(e.getTime()+198e5),n=function(e){return e<10?"0"+e:e},o=n(t.getDate()),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getFullYear(),r=t.getHours(),c=n(t.getMinutes()),s=n(t.getSeconds()),d=r>=12?"PM":"AM",l=n(r=(r%=12)||12);return"".concat(o,"/").concat(a,"/").concat(i," ").concat(l,":").concat(c,":").concat(s," ").concat(d)},e.formatSize=function(e){return e<1024?"".concat(e," B"):e<Math.pow(1024,2)?"".concat((e/1024).toFixed(2)," KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(2)," MB"):"".concat((e/Math.pow(1024,3)).toFixed(2)," GB")},e.isOpenable=function(e){var t=e.split(".").pop();for(var o in n.fileExtensions)if(Object.prototype.hasOwnProperty.call(n.fileExtensions,o)&&o.toLowerCase()==t){var i=n.fileExtensions[o];return a.indexOf(o)>-1||a.indexOf(i)>-1}},e.getPreviewType=function(e){var t=e.split(".").pop();for(var n in i)for(var o=0,a=i[n];o<a.length;o++){var r=a[o];if(t.toLowerCase()==r)return n}}}(o||(t.utils=o={}))},537:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((o=o.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(a=2&c[0]?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(6===c[0]&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],o=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenManager=void 0,t.extractToken=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return e=new a(document.documentElement.dataset.name).enc(document.documentElement.dataset.name),[4,fetch("/Ghost-Storage/assets/resources/.github.ghost",{method:"GET"})];case 1:return[4,n.sent().text()];case 2:return t=n.sent(),[2,new a(e).dec(t)]}}))}))},t.verifyPassword=function(e){return n(this,void 0,void 0,(function(){var t,n;return o(this,(function(o){switch(o.label){case 0:return null===e?[2,!1]:(t=new a(document.documentElement.dataset.name).enc(document.documentElement.dataset.name),[4,fetch("/Ghost-Storage/assets/resources/.password.ghost",{method:"GET"})]);case 1:return[4,o.sent().text()];case 2:return n=o.sent(),new a(t).enc(e)===n?[2,!0]:[2,!1]}}))}))};var a=function(){function e(e){this.salt=e,this.saltEnc=this.convertSaltToBinary(e)}return e.prototype.convertSaltToBinary=function(e){return e.split("").map((function(e){return e.charCodeAt(0).toString(2).padStart(8,"0")})).join("")},e.prototype.enc=function(e){var t=e.split("").map((function(e){return e.charCodeAt(0).toString(2).padStart(8,"0")})).join(this.saltEnc).match(/.{1,8}/g).map((function(e){return parseInt(e,2)}));return btoa(String.fromCharCode.apply(String,t))},e.prototype.dec=function(e){return atob(e).split("").map((function(e){return e.charCodeAt(0).toString(2).padStart(8,"0")})).join("").split(this.saltEnc).map((function(e){return String.fromCharCode(parseInt(e,2))})).join("")},e}();t.TokenManager=a}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(705)})();